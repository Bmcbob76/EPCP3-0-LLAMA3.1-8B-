<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agent Launcher</title>
    <style>
        body { background: #0a0a0a; color: #00ff41; font-family: 'Courier New', monospace; padding: 20px; margin: 0; }
        .module-header { text-align: center; border-bottom: 2px solid #b026ff; padding-bottom: 15px; margin-bottom: 20px; }
        .module-header h1 { color: #b026ff; text-shadow: 0 0 10px #b026ff; }
        .agent-list { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; }
        .agent-card { background: #1a1a1a; border: 2px solid #00ff41; border-radius: 5px; padding: 15px; }
        .agent-card h3 { color: #00d9ff; margin-bottom: 10px; }
        .agent-status { display: inline-block; padding: 3px 10px; border-radius: 3px; font-size: 11px; margin: 5px 0; }
        .status-running { background: #00ff41; color: #0a0a0a; }
        .status-idle { background: #666; color: #fff; }
        button { background: #0a0a0a; color: #00ff41; border: 1px solid #00ff41; padding: 8px 16px; margin: 5px 5px 0 0; cursor: pointer; border-radius: 3px; font-size: 11px; }
        button:hover { background: #00ff41; color: #0a0a0a; }
        .launch-new { background: #1a1a1a; border: 2px solid #b026ff; padding: 20px; margin-bottom: 20px; border-radius: 5px; }
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); }
        .modal-content { background: #1a1a1a; border: 2px solid #b026ff; margin: 10% auto; padding: 30px; width: 400px; border-radius: 10px; }
        .modal-content h2 { color: #b026ff; margin-top: 0; }
        .modal-content input, .modal-content select { width: 100%; background: #0a0a0a; color: #00ff41; border: 1px solid #00ff41; padding: 8px; margin: 10px 0; box-sizing: border-box; }
        .modal-buttons { margin-top: 20px; text-align: right; }
        .close-modal { position: absolute; right: 15px; top: 15px; font-size: 24px; cursor: pointer; color: #b026ff; }
    </style>
</head>
<body>
    <div class="module-header">
        <h1>üß∞ AGENT LAUNCHER - Local Agent Control</h1>
        <p>Launch, train, or terminate autonomous agents</p>
    </div>
    <div class="launch-new">
        <h3 style="color: #b026ff;">Launch New Agent</h3>
        <input type="text" id="newAgentName" placeholder="Agent name..." style="width: 200px; background: #0a0a0a; color: #00ff41; border: 1px solid #00ff41; padding: 8px; margin-right: 10px;">
        <button onclick="launchNewAgent()">üöÄ Launch</button>
        <button onclick="alert('üìã Agent templates shown')">üìã Templates</button>
    </div>
    <div class="agent-list" id="agentList">
        <!-- Agents will be dynamically loaded here -->
    </div>

    <!-- Configuration Modal -->
    <div id="configModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeConfigModal()">&times;</span>
            <h2>‚öôÔ∏è Configure Agent</h2>
            <p id="configAgentName" style="color: #00ff41; margin-bottom: 20px;"></p>
            <label>Agent Type:</label>
            <select id="configType">
                <option value="Security Monitor">Security Monitor</option>
                <option value="Information Gatherer">Information Gatherer</option>
                <option value="Code Review">Code Review</option>
                <option value="Network Defense">Network Defense</option>
                <option value="Conversation Logger">Conversation Logger</option>
                <option value="Performance Monitor">Performance Monitor</option>
                <option value="Custom">Custom</option>
            </select>
            <label>Configuration Notes:</label>
            <input type="text" id="configNotes" placeholder="Additional settings...">
            <div class="modal-buttons">
                <button onclick="closeConfigModal()">Cancel</button>
                <button onclick="saveConfiguration()">Save</button>
            </div>
        </div>
    </div>

    <script>
        // Agent data structure
        let agents = [
            {
                id: 1,
                icon: 'üêâ',
                name: 'Black Dragon',
                status: 'RUNNING',
                type: 'Security Monitor',
                info: 'Script: launch_black_dragon.ps1',
                startTime: Date.now() - 14 * 3600000 // Started 14 hours ago
            },
            {
                id: 2,
                icon: 'üîç',
                name: 'Data Hunter',
                status: 'RUNNING',
                type: 'Information Gatherer',
                info: 'Uptime: 14h 23m',
                startTime: Date.now() - (14 * 3600000 + 23 * 60000)
            },
            {
                id: 3,
                icon: 'ü§ñ',
                name: 'Code Analyzer',
                status: 'IDLE',
                type: 'Code Review',
                info: 'Last run: 2h ago',
                startTime: null
            },
            {
                id: 4,
                icon: 'üõ°Ô∏è',
                name: 'Shield Guardian',
                status: 'RUNNING',
                type: 'Network Defense',
                info: 'Threats blocked: 247',
                startTime: Date.now() - 20 * 3600000
            },
            {
                id: 5,
                icon: 'üí¨',
                name: 'Chat Monitor',
                status: 'RUNNING',
                type: 'Conversation Logger',
                info: 'Messages logged: 8,432',
                startTime: Date.now() - 48 * 3600000
            },
            {
                id: 6,
                icon: 'üìä',
                name: 'Metrics Collector',
                status: 'IDLE',
                type: 'Performance Monitor',
                info: 'Status: Waiting for trigger',
                startTime: null
            }
        ];

        let nextAgentId = 7;
        let currentConfigAgent = null;

        // Initialize agents on page load
        window.onload = function() {
            renderAgents();
            // Update uptimes every minute for running agents
            setInterval(updateUptimes, 60000);
        };

        // Render all agents
        function renderAgents() {
            const agentList = document.getElementById('agentList');
            agentList.innerHTML = '';
            
            agents.forEach(agent => {
                const card = createAgentCard(agent);
                agentList.appendChild(card);
            });
        }

        // Create agent card element
        function createAgentCard(agent) {
            const card = document.createElement('div');
            card.className = 'agent-card';
            card.id = `agent-${agent.id}`;
            
            const statusClass = agent.status === 'RUNNING' ? 'status-running' : 'status-idle';
            const uptime = agent.startTime ? getUptime(agent.startTime) : '';
            
            card.innerHTML = `
                <h3>${agent.icon} ${agent.name}</h3>
                <span class="agent-status ${statusClass}">${agent.status}</span>
                <p style="font-size: 11px; margin: 10px 0;">Type: ${agent.type}</p>
                <p style="font-size: 11px; margin: 10px 0;">${uptime || agent.info}</p>
                ${agent.status === 'RUNNING' ? `
                    <button onclick="pauseAgent(${agent.id})">‚è∏ Pause</button>
                    <button onclick="restartAgent(${agent.id})">üîÑ Restart</button>
                    <button onclick="killAgent(${agent.id})">‚ò†Ô∏è Kill</button>
                ` : `
                    <button onclick="startAgent(${agent.id})">‚ñ∂Ô∏è Start</button>
                    <button onclick="configureAgent(${agent.id})">‚öôÔ∏è Configure</button>
                    <button onclick="deleteAgent(${agent.id})">üóëÔ∏è Delete</button>
                `}
            `;
            
            return card;
        }

        // Calculate uptime
        function getUptime(startTime) {
            const now = Date.now();
            const diff = now - startTime;
            const hours = Math.floor(diff / 3600000);
            const minutes = Math.floor((diff % 3600000) / 60000);
            return `Uptime: ${hours}h ${minutes}m`;
        }

        // Update all uptimes
        function updateUptimes() {
            agents.forEach(agent => {
                if (agent.status === 'RUNNING' && agent.startTime) {
                    const card = document.getElementById(`agent-${agent.id}`);
                    if (card) {
                        const uptimeP = card.querySelectorAll('p')[1];
                        if (uptimeP) {
                            uptimeP.textContent = getUptime(agent.startTime);
                        }
                    }
                }
            });
        }

        // Launch new agent
        function launchNewAgent() {
            const nameInput = document.getElementById('newAgentName');
            const name = nameInput.value.trim();
            
            if (!name) {
                alert('Please enter an agent name');
                return;
            }
            
            // Create new agent
            const newAgent = {
                id: nextAgentId++,
                icon: 'ü§ñ',
                name: name,
                status: 'RUNNING',
                type: 'Custom',
                info: 'Newly launched',
                startTime: Date.now()
            };
            
            agents.push(newAgent);
            renderAgents();
            nameInput.value = '';
            
            console.log(`üöÄ Launched new agent: ${name}`);
        }

        // Pause agent
        function pauseAgent(id) {
            const agent = agents.find(a => a.id === id);
            if (agent) {
                agent.status = 'IDLE';
                agent.info = 'Paused by user';
                agent.startTime = null;
                renderAgents();
                console.log(`‚è∏ Paused agent: ${agent.name}`);
            }
        }

        // Restart agent
        function restartAgent(id) {
            const agent = agents.find(a => a.id === id);
            if (agent) {
                agent.status = 'RUNNING';
                agent.startTime = Date.now();
                renderAgents();
                console.log(`üîÑ Restarted agent: ${agent.name}`);
            }
        }

        // Kill agent
        function killAgent(id) {
            if (confirm('Are you sure you want to kill this agent?')) {
                const agentIndex = agents.findIndex(a => a.id === id);
                if (agentIndex !== -1) {
                    const agent = agents[agentIndex];
                    agents.splice(agentIndex, 1);
                    renderAgents();
                    console.log(`‚ò†Ô∏è Killed agent: ${agent.name}`);
                }
            }
        }

        // Start agent
        function startAgent(id) {
            const agent = agents.find(a => a.id === id);
            if (agent) {
                agent.status = 'RUNNING';
                agent.startTime = Date.now();
                renderAgents();
                console.log(`‚ñ∂Ô∏è Started agent: ${agent.name}`);
            }
        }

        // Configure agent
        function configureAgent(id) {
            const agent = agents.find(a => a.id === id);
            if (agent) {
                currentConfigAgent = agent;
                document.getElementById('configAgentName').textContent = `${agent.icon} ${agent.name}`;
                document.getElementById('configType').value = agent.type;
                document.getElementById('configNotes').value = '';
                document.getElementById('configModal').style.display = 'block';
            }
        }

        // Close configuration modal
        function closeConfigModal() {
            document.getElementById('configModal').style.display = 'none';
            currentConfigAgent = null;
        }

        // Save configuration
        function saveConfiguration() {
            if (currentConfigAgent) {
                const newType = document.getElementById('configType').value;
                const notes = document.getElementById('configNotes').value;
                
                currentConfigAgent.type = newType;
                if (notes) {
                    currentConfigAgent.info = notes;
                }
                
                renderAgents();
                console.log(`‚öôÔ∏è Configured agent: ${currentConfigAgent.name}`);
                closeConfigModal();
            }
        }

        // Delete agent
        function deleteAgent(id) {
            if (confirm('Are you sure you want to delete this agent?')) {
                const agentIndex = agents.findIndex(a => a.id === id);
                if (agentIndex !== -1) {
                    const agent = agents[agentIndex];
                    agents.splice(agentIndex, 1);
                    renderAgents();
                    console.log(`üóëÔ∏è Deleted agent: ${agent.name}`);
                }
            }
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('configModal');
            if (event.target === modal) {
                closeConfigModal();
            }
        };
    </script>
</body>
</html>
